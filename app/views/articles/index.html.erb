<% def display_method article_param %>
  <%= link_to 'Show', article_path(article_param)%>
  <%= link_to 'Edit', edit_article_path(article_param)%>
  <%= link_to 'Destroy', article_path(article_param),
              method: :delete,
              data: { confirm: 'Are you sure?' } %>
  <%#binding.pry%>
<% end %>

<%= text_field_tag :params[:query] rescue nil %>
<%= link_to 'Submit', articles_path%>
<h1>Listing Articles</h1>
<%= form_tag articles_path, method: :get do %>
  <%= text_field_tag :query, params[:query] %>
  <%= submit_tag 'Search' %>
<% end %>
<table>
  <tr>
    <th>Title</th>
    <th colspan="3"></th>
  </tr>
 
  <% @articles.each do |article| %>
    <tr>
      <td><%= article.name %></td>
      <td><%#= article.try(:text) %></td>
      <td><% display_method article %></td>
    </tr>
  <% end %>
</table>

<%=link_to 'New Article', new_article_path%>
<%=link_to 'search',articles_search_path%>